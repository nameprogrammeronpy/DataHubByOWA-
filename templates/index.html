{% extends "base.html" %}

{% block title %}DataHub –í–£–ó-–æ–≤ –†–ö ‚Äî –ö–∞—Ç–∞–ª–æ–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-content">
        <h1>–ù–∞–π–¥–∏ —Å–≤–æ–π <span class="gradient-text">–∏–¥–µ–∞–ª—å–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</span></h1>
        <p>–°—Ä–∞–≤–Ω–∏–≤–∞–π, –≤—ã–±–∏—Ä–∞–π –∏ –ø–æ—Å—Ç—É–ø–∞–π –≤ –ª—É—á—à–∏–µ –í–£–ó—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</p>
        <div class="hero-search">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –≥–æ—Ä–æ–¥—É –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–µ..." oninput="filterUniversities()">
        </div>
        <div class="hero-stats">
            <div class="stat">
                <span class="stat-number">60+</span>
                <span class="stat-label">–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤</span>
            </div>
            <div class="stat">
                <span class="stat-number">500+</span>
                <span class="stat-label">–ü—Ä–æ–≥—Ä–∞–º–º</span>
            </div>
            <div class="stat">
                <span class="stat-number">AI</span>
                <span class="stat-label">–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</span>
            </div>
        </div>
    </div>
    <div class="hero-decoration">
        <div class="floating-card card-1">üéì</div>
        <div class="floating-card card-2">üìö</div>
        <div class="floating-card card-3">üèõÔ∏è</div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section">
    <div class="container">
        <h2 class="section-title">–ß—Ç–æ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-university"></i></div>
                <h3>–û–± —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ</h3>
                <p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏—Å—Å–∏–∏, –∏—Å—Ç–æ—Ä–∏–∏, –ª–∏–¥–µ—Ä—Å—Ç–≤–µ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-book-open"></i></div>
                <h3>–ê–∫–∞–¥–µ–º. –ø—Ä–æ–≥—Ä–∞–º–º—ã</h3>
                <p>–ü–µ—Ä–µ—á–µ–Ω—å –∏ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö —É—á–µ–±–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-user-graduate"></i></div>
                <h3>–ü—Ä–∏—ë–º –∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ</h3>
                <p>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é, —Å—Ä–æ–∫–∏, —Å—Ç–∏–ø–µ–Ω–¥–∏–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–º–æ—â—å</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-vr-cardboard"></i></div>
                <h3>3D-—Ç—É—Ä</h3>
                <p>–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–∞–º–ø—É—Å–∞</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-globe"></i></div>
                <h3>–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–µ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ</h3>
                <p>–ü—Ä–æ–≥—Ä–∞–º–º—ã –æ–±–º–µ–Ω–∞ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-balance-scale"></i></div>
                <h3>–§—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</h3>
                <p>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –í–£–ó—ã –∏ –∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã</p>
            </div>
        </div>
    </div>
</section>

<!-- Filters Section -->
<section class="filters-section">
    <div class="container">
        <div class="filters-bar">
            <div class="filter-group">
                <label>–ì–æ—Ä–æ–¥:</label>
                <select id="filterCity" onchange="filterUniversities()">
                    <option value="">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
                    <option value="–ê–ª–º–∞—Ç—ã">–ê–ª–º–∞—Ç—ã</option>
                    <option value="–ê—Å—Ç–∞–Ω–∞">–ê—Å—Ç–∞–Ω–∞</option>
                    <option value="–ö–∞—Ä–∞–≥–∞–Ω–¥–∞">–ö–∞—Ä–∞–≥–∞–Ω–¥–∞</option>
                    <option value="–®—ã–º–∫–µ–Ω—Ç">–®—ã–º–∫–µ–Ω—Ç</option>
                    <option value="–ê–∫—Ç–æ–±–µ">–ê–∫—Ç–æ–±–µ</option>
                    <option value="–ü–∞–≤–ª–æ–¥–∞—Ä">–ü–∞–≤–ª–æ–¥–∞—Ä</option>
                    <option value="–°–µ–º–µ–π">–°–µ–º–µ–π</option>
                    <option value="–ö–æ—Å—Ç–∞–Ω–∞–π">–ö–æ—Å—Ç–∞–Ω–∞–π</option>
                    <option value="–ê—Ç—ã—Ä–∞—É">–ê—Ç—ã—Ä–∞—É</option>
                    <option value="–£—Ä–∞–ª—å—Å–∫">–£—Ä–∞–ª—å—Å–∫</option>
                    <option value="–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫">–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫</option>
                    <option value="–¢–∞—Ä–∞–∑">–¢–∞—Ä–∞–∑</option>
                    <option value="–ö—ã–∑—ã–ª–æ—Ä–¥–∞">–ö—ã–∑—ã–ª–æ—Ä–¥–∞</option>
                    <option value="–ê–∫—Ç–∞—É">–ê–∫—Ç–∞—É</option>
                    <option value="–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫">–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫</option>
                    <option value="–¢–∞–ª–¥—ã–∫–æ—Ä–≥–∞–Ω">–¢–∞–ª–¥—ã–∫–æ—Ä–≥–∞–Ω</option>
                </select>
            </div>
            <div class="filter-group">
                <label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</label>
                <select id="filterFocus" onchange="filterUniversities()">
                    <option value="">–í—Å–µ</option>
                    <option value="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π</option>
                    <option value="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π</option>
                    <option value="–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π">–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π</option>
                    <option value="–ë–∏–∑–Ω–µ—Å">–ë–∏–∑–Ω–µ—Å</option>
                    <option value="–ü–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π">–ü–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π</option>
                    <option value="–ê–≥—Ä–∞—Ä–Ω—ã–π">–ê–≥—Ä–∞—Ä–Ω—ã–π</option>
                    <option value="–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π</option>
                    <option value="–¢–≤–æ—Ä—á–µ—Å–∫–∏–π">–¢–≤–æ—Ä—á–µ—Å–∫–∏–π</option>
                    <option value="–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π</option>
                    <option value="–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π">–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π</option>
                </select>
            </div>
            <div class="filter-group">
                <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                <select id="sortBy" onchange="filterUniversities()">
                    <option value="rating">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                    <option value="price_low">–¶–µ–Ω–∞ (—Å–Ω–∞—á–∞–ª–∞ –¥–µ—à–µ–≤–ª–µ)</option>
                    <option value="price_high">–¶–µ–Ω–∞ (—Å–Ω–∞—á–∞–ª–∞ –¥–æ—Ä–æ–∂–µ)</option>
                    <option value="ent">–ü–æ –º–∏–Ω. –±–∞–ª–ª—É –ï–ù–¢</option>
                </select>
            </div>
        </div>
    </div>
</section>

<!-- Universities Grid -->
<section class="universities-section">
    <div class="container">
        <h2 class="section-title">–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞</h2>
        <div class="universities-grid" id="universitiesGrid">
            {% for uni in universities %}
            <div class="university-card"
                 data-name="{{ uni.name_ru.lower() }}"
                 data-city="{{ uni.city }}"
                 data-focus="{{ uni.focus }}"
                 data-rating="{{ uni.rating }}"
                 data-price="{{ uni.tuition_kzt_year }}"
                 data-ent="{{ uni.ent_min_score }}">
                <div class="card-image">
                    <div class="card-overlay">
                        <span class="card-city"><i class="fas fa-map-marker-alt"></i> {{ uni.city }}</span>
                        <span class="card-rating"><i class="fas fa-star"></i> {{ uni.rating }}</span>
                    </div>
                    <div class="card-placeholder">
                        <i class="fas fa-university"></i>
                    </div>
                </div>
                <div class="card-content">
                    <h3 class="card-title">{{ uni.name_ru }}</h3>
                    <p class="card-description">{{ uni.description[:120] }}...</p>
                    <div class="card-tags">
                        <span class="tag">{{ uni.focus }}</span>
                        <span class="tag">–ï–ù–¢ –æ—Ç {{ uni.ent_min_score }}</span>
                    </div>
                    <div class="card-price">
                        <span class="price-label">–æ—Ç</span>
                        <span class="price-value">{{ "{:,.0f}".format(uni.tuition_kzt_year).replace(",", " ") }} ‚Ç∏</span>
                        <span class="price-period">/–≥–æ–¥</span>
                    </div>
                    <div class="card-actions">
                        <a href="/university/{{ uni.id }}" class="btn btn-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        <button class="btn btn-outline" onclick="addToCompare({{ uni.id }}, '{{ uni.name_ru }}')">
                            <i class="fas fa-plus"></i> –°—Ä–∞–≤–Ω–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Compare Float Panel -->
<div class="compare-panel" id="comparePanel">
    <div class="compare-header">
        <span><i class="fas fa-balance-scale"></i> –°—Ä–∞–≤–Ω–µ–Ω–∏–µ (<span id="compareCount">0</span>)</span>
        <button onclick="clearCompare()"><i class="fas fa-trash"></i></button>
    </div>
    <div class="compare-list" id="compareList"></div>
    <a href="/compare" class="btn btn-primary btn-full" id="goCompareBtn" onclick="saveCompareToStorage()">–°—Ä–∞–≤–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</a>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // –î–∞–Ω–Ω—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    const universities = {{ universities | tojson | safe }};
</script>
{% endblock %}

